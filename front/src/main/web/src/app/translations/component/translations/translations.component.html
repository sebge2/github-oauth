<app-translations-search-bar
    (onSearchChange)="onSearch($event)"
    (requestInitChange)="onRequestInitialized($event)"
    (requestChange)="onRequestChange($event)"
    [(expanded)]="expanded">
</app-translations-search-bar>

<div *ngIf="(searchRequest != null) && (searchRequest.workspace != null) && searchRequest.workspace.isNotInitialized()"
     class="container">
    <p>The workspace is initializing, please wait.</p>
    <img src="assets/scanning.gif" alt="Initializing workspace"/>
</div>

<div
    *ngIf="(searchRequest != null) && (searchRequest.workspace != null) && (searchRequest.workspace.isInitialized() || searchRequest.workspace.isInReview())"
    class="container">
    <app-translations-table [searchRequest]="searchRequest"
                            [readOnly]="readOnlyTable || startReviewing"></app-translations-table>

    <div style="text-align: right; margin-top: 10px;"
         *ngIf="(searchRequest != null) && (searchRequest.workspace != null) && searchRequest.workspace.isInitialized()">
        <button mat-flat-button color="primary" (click)="openStartReviewDialog()" [disabled]="startReviewing">
            Publish and ask a review

            <i class="fa fa-spinner fa-spin" *ngIf="startReviewing"></i>
        </button>
    </div>
</div>
