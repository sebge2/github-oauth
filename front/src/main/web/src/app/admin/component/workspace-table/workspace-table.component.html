<mat-card class="card">
    <mat-card-header>
        <mat-card-title-group>
            <mat-card-title>
                <i class="fas fa-tags"></i> Workspaces
                <i class="fas fa-spinner fa-spin" *ngIf="actionInProgress"></i>
            </mat-card-title>
        </mat-card-title-group>
    </mat-card-header>
    <mat-card-content>
        <mat-table #table [dataSource]="dataSource" on-mouseleave="hoveredWorkspace=null">
            <ng-container matColumnDef="name">
                <mat-cell *matCellDef="let workspace">
                    <mat-icon [ngClass]="workspace | workspaceIconCss">{{workspace|workspaceIcon}}</mat-icon>
                    &nbsp;
                    {{workspace.branch}}
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="action">
                <mat-cell *matCellDef="let workspace">
                    <button mat-button *ngIf="workspace==hoveredWorkspace" (click)="delete(workspace)" [disabled]="actionInProgress">
                        <i class="fas fa-eraser"></i>
                    </button>
                </mat-cell>
            </ng-container>

            <mat-row *matRowDef="let row; columns: displayedColumns;" on-mouseover="hoveredWorkspace=row"></mat-row>
        </mat-table>
    </mat-card-content>
    <mat-card-actions>
        <button mat-button (click)="find()" [disabled]="actionInProgress"><i class="fas fa-sync-alt"></i> Refresh</button>
    </mat-card-actions>
</mat-card>
